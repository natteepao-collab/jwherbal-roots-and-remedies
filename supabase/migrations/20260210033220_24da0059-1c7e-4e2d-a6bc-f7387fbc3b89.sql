
-- Create vflow_page_settings table to store V Flow page content
CREATE TABLE public.vflow_page_settings (
  id uuid NOT NULL DEFAULT gen_random_uuid() PRIMARY KEY,
  -- Hero section
  tagline text NOT NULL DEFAULT '‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÇ‡∏•‡∏´‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏î‡∏µ',
  description text NOT NULL DEFAULT 'V Flow Herbal Drink ‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á JWHERBAL ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡πÑ‡∏ó‡∏¢',
  -- Highlights (stored as JSON array of strings)
  highlights jsonb NOT NULL DEFAULT '["‡∏™‡∏π‡∏ï‡∏£‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£ 100% ‡∏à‡∏≤‡∏Å‡∏Ç‡∏¥‡∏á ‡∏û‡∏∏‡∏ó‡∏£‡∏≤‡∏à‡∏µ‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡πá‡∏î‡∏´‡∏π‡∏´‡∏ô‡∏π","‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏î‡∏µ ‡∏•‡∏î‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ç‡πâ‡∏ô","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• ‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô","‡∏™‡∏π‡∏ï‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô IRTC","‡∏ä‡∏á‡∏î‡∏∑‡πà‡∏°‡∏á‡πà‡∏≤‡∏¢ ‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 1 ‡∏ã‡∏≠‡∏á"]'::jsonb,
  -- Research section
  research_title text NOT NULL DEFAULT '‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢ IRTC',
  research_description text NOT NULL DEFAULT 'V Flow Herbal Drink ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏Ç‡∏≠‡∏á IRTC',
  research_points jsonb NOT NULL DEFAULT '["‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏π‡∏ï‡∏£‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£","‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢","‡∏ú‡∏•‡∏¥‡∏ï‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô GMP"]'::jsonb,
  -- Pain points (JSON array of {icon, text})
  pain_points jsonb NOT NULL DEFAULT '[{"icon":"üíß","text":"‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ç‡πâ‡∏ô‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏µ"},{"icon":"‚ùÑÔ∏è","text":"‡∏°‡∏∑‡∏≠‡πÄ‡∏ó‡πâ‡∏≤‡πÄ‡∏¢‡πá‡∏ô ‡∏õ‡∏•‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡∏õ‡∏•‡∏≤‡∏¢‡πÄ‡∏ó‡πâ‡∏≤‡∏ä‡∏≤"},{"icon":"üòµ","text":"‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß ‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏∑‡∏î"},{"icon":"üìä","text":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‚Äì‡∏•‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏á‡∏ó‡∏µ‡πà"},{"icon":"üßà","text":"‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á"},{"icon":"üòÆ‚Äçüí®","text":"‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏µ‡∏¢ ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢"},{"icon":"‚ù§Ô∏è","text":"‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏£‡∏Ñ‡∏´‡∏±‡∏ß‡πÉ‡∏à"},{"icon":"üë¥","text":"‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏•‡∏á"}]'::jsonb,
  -- How to use (JSON array of {step, text, icon})
  how_to_use jsonb NOT NULL DEFAULT '[{"step":1,"text":"‡∏â‡∏µ‡∏Å‡∏ã‡∏≠‡∏á V Flow Herbal Drink","icon":"üì¶"},{"step":2,"text":"‡∏ú‡∏™‡∏°‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô 150‚Äì200 ‡∏°‡∏•.","icon":"üíß"},{"step":3,"text":"‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô","icon":"ü•Ñ"},{"step":4,"text":"‡∏î‡∏∑‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤ 1 ‡∏ã‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô","icon":"‚òÄÔ∏è"}]'::jsonb,
  tip text NOT NULL DEFAULT '‡∏î‡∏∑‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 14‚Äì28 ‡∏ß‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á',
  -- Certificates (JSON array of strings)
  certificates jsonb NOT NULL DEFAULT '["‡πÄ‡∏•‡∏Ç ‡∏≠‡∏¢.: 50-1-16657-2-0226","‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏¥‡∏ï‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô GMP","‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå","‡∏õ‡∏•‡∏≠‡∏î‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡πÑ‡∏°‡πà‡πÅ‡∏ï‡πà‡∏á‡∏™‡∏µ ‡πÑ‡∏°‡πà‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏•‡∏¥‡πà‡∏ô","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","QR ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå"]'::jsonb,
  -- Brand values (JSON array of strings)
  brand_values jsonb NOT NULL DEFAULT '["‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏õ‡∏•‡∏π‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ","‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏π‡∏ï‡∏£‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£","‡∏ó‡∏∏‡∏Å‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢","‡πÄ‡∏ô‡πâ‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß","‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡πÑ‡∏ó‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô","‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û"]'::jsonb,
  -- FAQs (JSON array of {question, answer})
  faqs jsonb NOT NULL DEFAULT '[{"question":"‡∏î‡∏∑‡πà‡∏°‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?","answer":"‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏•‡πâ‡∏ß‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•"},{"question":"‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?","answer":"‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ó‡∏≤‡∏ô‡∏¢‡∏≤‡∏´‡∏°‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå"},{"question":"‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á/‡πÉ‡∏´‡πâ‡∏ô‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∑‡πà‡∏°‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?","answer":"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏µ‡∏Ñ‡∏£‡∏£‡∏†‡πå‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏ô‡∏°‡∏ö‡∏∏‡∏ï‡∏£"},{"question":"‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏¢‡∏≤‡∏•‡∏î‡πÑ‡∏Ç‡∏°‡∏±‡∏ô/‡∏¢‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?","answer":"‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞ ‡πÅ‡∏ï‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ß‡πâ‡∏ô 1‚Äì2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢"},{"question":"‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ô‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô‡∏ñ‡∏∂‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•?","answer":"‡πÇ‡∏î‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 7‚Äì14 ‡∏ß‡∏±‡∏ô ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•"}]'::jsonb,
  updated_at timestamp with time zone NOT NULL DEFAULT now()
);

-- Enable RLS
ALTER TABLE public.vflow_page_settings ENABLE ROW LEVEL SECURITY;

-- Anyone can view
CREATE POLICY "Anyone can view vflow settings" ON public.vflow_page_settings FOR SELECT USING (true);

-- Admins can manage
CREATE POLICY "Admins can manage vflow settings" ON public.vflow_page_settings FOR ALL USING (has_role(auth.uid(), 'admin'::app_role));

-- Insert default row
INSERT INTO public.vflow_page_settings (id) VALUES (gen_random_uuid());

-- Updated at trigger
CREATE TRIGGER update_vflow_settings_updated_at
  BEFORE UPDATE ON public.vflow_page_settings
  FOR EACH ROW
  EXECUTE FUNCTION public.update_updated_at_column();
